{
    "contents" : "\n# Install required packages -----------------------------------------------\ninstall.packages(\"forecast\")\ninstall.packages(\"fpp\")\ninstall.packages(\"ggplot2\")\n\n\n# load those packages to the current session ------------------------------\nlibrary(ggplot2)\nlibrary(forecast)\nlibrary(fpp) # get a dataset to work with from 'fpp' - datasets from forecasting principles and practice\n\n\n# Explore elecequip dataset -----------------------------------------------\nplot(elecequip)\nhead(elecequip)\nclass(elecequip)  # ts class\nelecequip\nView(elecequip) \n\n\n# Decompose time series with STL ------------------------------------------\n# Time-Series Components\nfit <- stl(elecequip, s.window=5)  #seasonal decomposition \nplot(fit) # show the components\nautoplot(fit)  # plot with ggplot2\n\n\n# Plot elecequip time series ----------------------------------------------\nplot(elecequip, col='gray',\n     main=\"Electrical Equipment Manyfacturing\",\n     ylab='New orders index', xlab=\"\")\nlines(fit$time.series[,2], col=\"red\", ylab=\"Trend\")\n\n\n\n\n# Apply Exponential Smoothing to Oil Data ---------------------------------\nplot(oil)\n# Exponential smoothing model - with different Alpha smoothing and H perio parameter settings\nfit1 <- ses(oil, alpha=0.2, initial=\"simple\", h=3) # alpha=smppthing parameter  h=periods\nfit2 <- ses(oil, alpha=0.6, initial=\"simple\", h=3)\nfit3 <- ses(oil,  h=3)\nfit4 <- ses(oil, alpha=0.6, initial=\"simple\", h=1)\n# Plot the model fit (training data)\nplot(fit1, plot.conf=FALSE, ylab=\"Oil (millions of tonnes)\",\n     xlab=\"Year\", main=\"\", fcol=\"white\", type=\"o\")\nlines(fitted(fit1), col=\"blue\", type=\"o\")\nlines(fitted(fit2), col=\"red\", type=\"o\")\nlines(fitted(fit3), col=\"green\", type=\"o\")\nlines(fitted(fit4), col=\"yellow\", type=\"o\")\n\n# PLot the forecast\nplot(fit1, plot.conf=FALSE, ylab=\"Oil (millions of tonnes)\",\n     xlab=\"Year\", main=\"\", fcol=\"white\", type=\"o\")\nlines(fit1$mean, col=\"blue\", type=\"o\")\nlines(fit2$mean, col=\"red\", type=\"o\")\nlines(fit3$mean, col=\"green\", type=\"o\")\n\n\n# Holt Winters\naust <- window(austourists, start=2005)\nplot(aust)\nfit1 <- hw(aust, seasonal=\"additive\")\nfit2 <- hw(aust, seasonal=\"multiplicative\")\n\nplot(fit2, ylab=\"International visitnor night in Australia (millions)\",\n     plot.conf=FALSE, type=\"o\", fcol=\"white\", xlab=\"Year\")\nlines(fitted(fit1), col=\"red\", lty=2)\nlines(fitted(fit2), col=\"green\", lty=2)\n#add the forecasts\nlines(fit1$mean, type=\"o\", col=\"red\")\nlines(fit2$mean, type=\"o\", col=\"green\")\n\n\n\n\n# Monthly anti-diabetic drug sales in Australia from 1992 to 2008 ---------\n?a10\n\n# Seasonal Differencing\nplot(a10)\nplot(log(a10))  # variance (as well as the scale) reduces for the log values\n\n# for exponential models, differencing ones gives you a striaght line, differencing twice, straight\nplot(stl(a10, s.window=12))\nplot(diff(log(a10), s.window=12))\n\n\n# ARIMA model on diabetes dataset -----------------------------------------\n# ARIMA Model\ntsdisplay(diff(WWWusage), main=\"\")\nfit <- Arima(WWWusage, order=c(3,1,1))\nsummary(fit)\nplot(forecast(fit))\n# now using auto method for selecting order\nfit1 <- auto.arima(WWWusage)\nplot(forecast(fit1))\nsummary(fit1)\n# for a10 dataset\nfit2 <- auto.arima(a10)\nplot(forecast(fit2))\nsummary(fit2)\n\n\n\n# Evaluate forecast models using Australian beer dataset ------------------\n# Evaluating the models\nbeer2 <- window(ausbeer, start=1992, end=2006-.1)\n\nbeerfit1 <- meanf(beer2, h=11)\nbeerfit2 <- rwf(beer2, h=11)\nbeerfit3 <- snaive(beer2, h=11)\nbeerfit4 <- auto.arima(beer2)\n\nplot(beerfit1, plot.conf=FALSE,\n     main=\"forecasts for quaterly beer production\")\nlines(beerfit2$mean, col=\"red\")\nlines(beerfit3$mean, col=\"green\")\nplot(forecast(beerfit4), col=\"grey\")\nlines(ausbeer)\n\n\n\n\n\n",
    "created" : 1480322781409.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "7|45|10|104|\n",
    "hash" : "1467581330",
    "id" : "E508629",
    "lastKnownWriteTime" : 1480324959,
    "path" : "~/Desktop/SYD_DAT_6/labs/Week 8/Time_Series_Lab.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : true,
    "type" : "r_source"
}